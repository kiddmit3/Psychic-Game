<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>The Psychic Game</title>
</head>



<link rel="stylesheet" href="style/reset.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<link rel="stylesheet" href="style/style.css">




<body>
<br/><br/><br/>

<!-- insert picture placeholder -->
<img id="pic" class="img-responsive" src=""></div>

<div class="container">

  <div class="row">
  <div class="col-xs-3"></div>
    <div class="col-xs-6"><br/><br/>
    <h1>Guess what letter I'm thinking of!</h1>
    </div>
  <div class="col-xs-3"></div>
  <br/><br/>
  <div class="row">
  <div class="col-xs-4"></div>
    <div class="col-xs-4">
      <div>Wins: <span id = "win"></span>
      </div>
      <div>Losses: <span id = "loss"></span>
      </div>
      <div>Guesses left: <span id = "guessesLeft"></span>
      </div>
      <div>User Guesses: <span id = "user"></span>
      </div>
    </div>
   <div class="col-xs-4"></div>

</div>

</body>


<!-- START JAVASCRIPT -->
<script type="text/javascript">
// setting up global variables
  var userPick;
  var randy;
  var win = 0;
  var loss = 0;
  var guess = 10;
  var guessedLetters = [];

// Function that generates random letter from alphabet string 
  var answer = "";
  var alphabet = "abcdefghijklmnopqrstuvwxyz";
  
 function alphaRandy(){ 
  var answer = "";
  var alphabet = "abcdefghijklmnopqrstuvwxyz";
  alphaRandy=alphabet[Math.floor(Math.random() * alphabet.length)];
 }


alphaRandy();
console.log(alphaRandy)


// Could not get reset function to work within document.onkeyup //

  // function reset(){
  //   alphaRandy();
  //   guess=10;
  //   guessedLetters=[];
  // }


// Display variable guesses left

  var guessLText = document.getElementById("guessesLeft");
  guessLText.textContent = guess;

//Display inital pic by finding id "pic" and inserting new src
  document.getElementById("pic").src="assets/you.jpg";

// START upon the action of user input

  document.onkeyup = function(event) {
    userPick = event.key;
    guessedLetters.push(userPick);
    guess--;
    document.getElementById("pic").src="assets/you.jpg";

    if (guess >= 1) {

      if (userPick === alphaRandy) {
          win++;
          alert("Wow! You must be psychic!");
          guess=10;
          guessedLetters=[];
          var answer = "";
          var alphabet = "abcdefghijklmnopqrstuvwxyz";
          alphaRandy=alphabet[Math.floor(Math.random() * alphabet.length)];
          document.getElementById("pic").src="assets/winner.png";

      }
      else {
          guessedLetters.join(', ');
      }
    }  
    else {
      alert("You did not guess correctly. You Lose. It was "+ alphaRandy + ". " + "Go back to psychic school, bruh!");
      loss++;
      guess=10;
      guessedLetters=[];
      var answer = "";
      var alphabet = "abcdefghijklmnopqrstuvwxyz";
      alphaRandy=alphabet[Math.floor(Math.random() * alphabet.length)]; 
      document.getElementById("pic").src="assets/school.jpg";     


    }
 
  console.log("Computer answer: " + alphaRandy);  
  console.log("Wins: " + win);
  console.log("Losses: " + loss);
  console.log("Guesses: " + guess);
  

  // Inputing information from javascript into html id

  var user = document.getElementById("user");
  user.textContent = guessedLetters;

  var winText = document.getElementById("win");
  winText.textContent = win;

  var lossText = document.getElementById("loss");
  lossText.textContent = loss;

  var guessLText = document.getElementById("guessesLeft");
  guessLText.textContent = guess;
  }

</script>

</html>